(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(26),r=c.n(a),o=(c(33),c(11)),i=Object(s.createContext)({books:[],getBooks:function(){return[]}}),l=c(10),j=c(2),b=c(0);var d=function(){return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("p",{className:"navbar-brand",children:"Google Books"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(l.b,{to:"/search",className:"nav-link","aria-current":"page",children:"Search"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(l.b,{to:"/saved",className:"nav-link","aria-current":"page",children:"Saved"})})]})})]})})},u=c(16),h=c.n(u),m=c(28),x=c(41),O={getBooks:function(){return x.get("/api/books/")},getBookById:function(e){return x.get("/api/books/"+e)},deleteBook:function(e){return x.delete("/api/books/"+e)},editBook:function(e){return x.put("/api/books/"+e)},saveBook:function(e){return x.post("api/books/",e)},getGoogleBook:function(){var e=Object(m.a)(h.a.mark((function e(t){var c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&maxResults=40"));case 2:return c=e.sent,e.next=5,c.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};c(60);var v=function(e){var t=e.children;return Object(b.jsx)("section",{className:"jumbotron",children:t})};var p=function(){return Object(b.jsx)("header",{className:"container",children:Object(b.jsxs)(v,{children:[Object(b.jsx)("h1",{children:"(React) Google Books Search"}),Object(b.jsx)("h3",{children:"Search for and Save Books of Interest"})]})})};var f=function(e){var t=Object(s.useContext)(i);return Object(b.jsxs)("div",{className:"card mb-3",children:[Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsxs)("div",{className:"col-md-5",children:[Object(b.jsx)("h2",{className:"card-title",children:e.title}),Object(b.jsx)("h4",{children:e.subtitle}),Object(b.jsxs)("p",{children:["Written by: ",e.authors]})]}),Object(b.jsxs)("div",{className:"col-md-7",children:[Object(b.jsx)("button",{className:"btn btn-primary float-end",onClick:function(c){c.preventDefault();var s={title:e.title,subtitle:e.subtitle,authors:e.authors,link:e.link,image:e.thumbnail,description:e.description};O.saveBook(s).then((function(e){t.getBooks()}))},children:"Save"}),Object(b.jsx)("a",{className:"btn btn-secondary float-end",href:e.link,target:"_blank",children:"View"})]})]}),Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("img",{src:e.thumbnail,alt:"Book Cover Image"})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("p",{className:"card-text",children:e.description})})})]})]})};var g=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)([]),i=Object(o.a)(r,2),l=i[0],j=i[1];return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsxs)("section",{className:"container",children:[Object(b.jsx)("br",{}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("h3",{children:"Book Search"}),Object(b.jsx)("input",{type:"text",placeholder:"Enter book title",className:"form-control mt-10",autoComplete:"off",onChange:function(e){return a(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-danger",type:"submit",onClick:function(e){e.preventDefault(),O.getGoogleBook(c).then((function(e){console.log(e.items),j(e.items)}))},children:"Search"})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("section",{className:"container",children:Object(b.jsx)("ul",{className:"list-group",children:l.map((function(e){return Object(b.jsx)("li",{className:"list-group-item",children:Object(b.jsx)(f,{id:e.id,title:e.volumeInfo.title,subtitle:e.volumeInfo.subtitle,authors:e.volumeInfo.authors,link:e.volumeInfo.canonicalVolumeLink,thumbnail:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description})},e.id)}))})})]})};var k=function(e){var t=Object(s.useContext)(i);return Object(b.jsx)("ul",{className:"list-group",children:e.books.map((function(e){return Object(b.jsx)("li",{className:"list-group-item",children:Object(b.jsxs)("div",{className:"card mb-3",children:[Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsxs)("div",{className:"col-md-5",children:[Object(b.jsx)("h2",{className:"card-title",children:e.title}),Object(b.jsx)("h4",{children:e.subtitle}),Object(b.jsxs)("p",{children:["Written by: ",e.authors]})]}),Object(b.jsx)("div",{className:"col-md-7",children:Object(b.jsx)("button",{className:"btn btn-danger float-end",onClick:function(c){c.preventDefault(),O.deleteBook(e._id).then((function(e){t.getBooks()}))},children:Object(b.jsx)("i",{className:"fas fa-trash-alt"})})})]}),Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("img",{src:e.image,alt:"Book Cover Image"})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("p",{className:"card-text",children:e.description})})})]})]})},e._id)}))})};var N=function(){var e=Object(s.useContext)(i);return Object(b.jsxs)("section",{className:"container",children:[Object(b.jsx)("h1",{className:"text-center",children:"Saved Books"}),Object(b.jsx)("hr",{}),Object(b.jsx)(k,{books:e.books})]})};var B=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],a=function(){O.getBooks().then((function(e){n(e.data)}))};return Object(s.useEffect)((function(){a()}),[]),Object(b.jsx)(i.Provider,{value:{books:c,getBooks:a},children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(d,{}),Object(b.jsx)("br",{}),Object(b.jsx)(p,{}),Object(b.jsx)("main",{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:["/","/search"],children:Object(b.jsx)(g,{})}),Object(b.jsx)(j.a,{exact:!0,path:"/saved",children:Object(b.jsx)(N,{})})]})})]})})};r.a.render(Object(b.jsx)(B,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f61e63c9.chunk.js.map